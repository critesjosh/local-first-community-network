# Expo Commands Cheat Sheet

## Quick Reference for Development

### Starting Development

```bash
# Basic start (works with Expo Go)
npm start

# Start for development build
npm run start:dev-client

# Start with options
npm start -- --clear        # Clear cache
npm start -- --tunnel       # Use tunnel (works across networks)
npm start -- --lan          # Use LAN connection
npm start -- --localhost    # Use localhost only
```

### Testing on Devices

```bash
# After running npm start, press:
a     # Open on Android device/emulator
i     # Open on iOS simulator
w     # Open in web browser
r     # Reload app
m     # Toggle menu
c     # Clear Metro bundler cache
d     # Open developer menu
j     # Open debugger
```

### Building Locally

```bash
# Generate native projects
npm run prebuild

# Generate and clean previous builds
npm run prebuild:clean

# Build Android APK locally (requires Android Studio)
npm run prebuild
cd android
./gradlew assembleDebug
cd ..

# Build iOS locally (requires macOS and Xcode)
npm run prebuild
cd ios
pod install
cd ..
# Then open in Xcode: open ios/*.xcworkspace
```

### Package Management

```bash
# Install a package
npm install package-name

# Install a package for Expo (finds compatible version)
npx expo install package-name

# Update Expo SDK
npx expo upgrade

# Check for outdated packages
npm outdated
```

### Troubleshooting

```bash
# Clear Metro bundler cache
npx expo start --clear

# Clear npm cache
npm cache clean --force

# Reinstall dependencies
rm -rf node_modules package-lock.json
npm install

# Clean native builds
npm run prebuild:clean

# Fix Android build issues
cd android
./gradlew clean
cd ..

# Fix iOS build issues (macOS only)
cd ios
pod deintegrate
pod install
cd ..
```

### Git Operations

```bash
# Check status
git status

# Add all changes
git add .

# Commit changes
git commit -m "Your message"

# Create new branch
git checkout -b feature/your-feature

# View history
git log --oneline
```

### EAS Build (Optional)

```bash
# Install EAS CLI globally
npm install -g eas-cli

# Login to Expo
eas login

# Configure project
eas build:configure

# Build locally
eas build --platform android --local
eas build --platform ios --local

# Build on Expo servers
eas build --platform android
eas build --platform ios
```

### Debugging

```bash
# Start with debugger
npm start -- --dev-client

# View logs
# Android:
adb logcat

# iOS (on device):
# Use Xcode Console or iOS Console app

# View Metro bundler logs
# Automatically shown when you run npm start
```

### Network Configuration

```bash
# Find your IP address
# Linux/macOS:
ifconfig | grep "inet "

# Windows:
ipconfig

# Test connection to Metro bundler
curl http://localhost:8081/status

# Test from another device (replace YOUR_IP)
curl http://YOUR_IP:8081/status
```

### Project Information

```bash
# Check Expo version
npx expo --version

# Check installed packages
npm list --depth=0

# Check Expo config
npx expo config

# Check project diagnostics
npx expo-doctor
```

### Environment Setup

```bash
# Check Node version
node --version

# Check npm version
npm --version

# Check Android environment (if Android Studio installed)
adb devices
adb --version

# Check iOS environment (macOS only)
xcodebuild -version
pod --version
```

## Common Development Patterns

### After Installing New Native Module

```bash
# 1. Install the package
npm install package-name

# 2. Regenerate native projects
npm run prebuild:clean

# 3. Rebuild the app (for dev builds)
# Android:
cd android && ./gradlew assembleDebug && cd ..

# iOS:
cd ios && pod install && cd .. && open ios/*.xcworkspace
```

### Before Deploying

```bash
# 1. Test thoroughly
npm start

# 2. Run on both platforms
npm run android
npm run ios

# 3. Check for issues
npx expo-doctor

# 4. Commit changes
git add .
git commit -m "Ready for deployment"
```

### Daily Development Workflow

```bash
# 1. Pull latest changes
git pull

# 2. Install any new dependencies
npm install

# 3. Start development
npm start

# 4. Make changes and test

# 5. Commit when ready
git add .
git commit -m "Description of changes"
```

## Keyboard Shortcuts (in Terminal during npm start)

- `a` - Open on Android
- `i` - Open on iOS
- `w` - Open in web browser
- `r` - Reload app
- `m` - Toggle menu
- `d` - Open developer menu
- `j` - Open debugger
- `c` - Clear cache and restart
- `?` - Show all commands

## Tips

1. Always ensure phone and computer are on same WiFi
2. Use `--tunnel` if having connection issues (slower but reliable)
3. Clear cache if seeing strange behavior
4. Regenerate native projects after adding native modules
5. Keep Expo and dependencies up to date
6. Use `npx expo-doctor` to diagnose common issues
7. Check firewall settings if device can't connect
8. Use development builds for full native features

## Quick Fixes

**App won't load on device:**
```bash
npm start -- --clear
```

**Dependencies issues:**
```bash
rm -rf node_modules package-lock.json && npm install
```

**Native build issues:**
```bash
npm run prebuild:clean
```

**Can't connect to server:**
```bash
npm start -- --tunnel
```
